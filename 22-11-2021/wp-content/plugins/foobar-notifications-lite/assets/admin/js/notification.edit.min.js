"use strict";!function(t){t.ready(function(t){t(".foobar-shortcode").click(function(){try{this.select(),document.execCommand("copy"),t(this).siblings(".foobar-shortcode-message").show()}catch(t){console.log("Oops, unable to copy!")}})})}((FooBar,FooBar.utils),FooBar.utils.is),function(t,l){t.ready(function(s){var t,r=(t="foobar_notification-settings",window.FOOBAR_TYPES&&l.object(FOOBAR_TYPES)&&FOOBAR_TYPES.hasOwnProperty(t)?FOOBAR_TYPES[t]:{}),a=Object.keys(r);s("#foobar_notification-types_type-field input:radio").change(function(t){t.preventDefault();var e,n,o,i=s(this).val();-1!==a.indexOf(i)&&(e=r[i],l.object(e)&&l.string(e.container)&&((n=FooFields.container(e.container))instanceof FooFields.Container&&(o=e.defaults,l.object(o)&&Object.keys(o).forEach(function(t){var e=n.field(t);e instanceof FooFields.Field&&e.val(o[t])}),a.forEach(function(t){var e,o=r[t].content;l.string(o)&&(e=t===i,n.toggle(o,e),e&&n.activate(o))})))),s("#foobar_notification-settings").show()})})}((FooBar,FooBar.utils),FooBar.utils.is),function(r,t,a,l){t.IconPicker=t.Field.extend({construct:function(t,e,o,n,i){var s=this;s._super(t,e,o,n,i),s.$doc=r(document),s.initial=s.$value.val(),s.hasDefault=!l.empty(s.opt.default),s.$container=r("<div/>",{class:s.cls.container}),s.containerElement=s.$container.get(0),s.$button=r("<button/>",{class:"button "+s.cls.button,type:"button"}),s.$clear=r("<button/>",{class:"button button-small "+s.cls.clear,type:"button",text:s.hasDefault?s.i18n.default:s.i18n.clear}),s.$icon=r("<span/>",{class:s.cls.icon}),s.$text=r("<span/>",{class:s.cls.text,text:s.i18n.select}),s.$list=r("<div/>",{class:s.cls.list}),s.$selected=r(),s.icons=a.icons.all()},setup:function(){var t=this;l.empty(t.icons)||(t.$container.append(t.$button.append(t.$icon,t.$text),t.$clear,t.$list.append(t.createItems())),t.$button.on("click",{self:t},t.onButtonClick),t.$clear.on("click",{self:t},t.onClearClick),t.$list.on("click",t.sel.item,{self:t},t.onItemClick),t.$value.addClass(t.cls.hidden).after(t.$container),t.val(t.$value.val()))},createItems:function(){var e=this;return Object.keys(e.icons).map(function(t){return r("<button/>",{class:e.cls.item,title:t,type:"button"}).append(e.icons[t].cloneNode(!0))})},teardown:function(){var t=this;t.$value.removeClass(t.cls.hidden),t.$container.remove(),t.$doc.off("click."+t.id,t.onDocumentClick),t.$button.off("click",{self:t},t.onButtonClick),t.$clear.off("click",{self:t},t.onClearClick),t.$list.off("click",t.sel.item,{self:t},t.onItemClick)},val:function(t){var e=this;if(l.undef(t))return e.$value.val();var o=e.$value.val(),n="";l.string(t)&&e.icons.hasOwnProperty(t)?(n=t,e.$selected=e.$list.find('[title="'+n+'"]'),e.$value.val(n),e.$icon.empty().append(e.icons[n].cloneNode(!0))):(e.$selected=r(),e.$value.val(n),e.$icon.empty()),e.$list.find(e.sel.selected).removeClass(e.cls.selected),e.$selected.addClass(e.cls.selected),o!==n&&e.doValueChanged()},toggleDropdown:function(t){var e,o,n=this;n.dropdownVisible=l.boolean(t)?t:!n.dropdownVisible,n.dropdownVisible?(n.$container.addClass(n.cls.visible),e=n.$list.get(0),0!==n.$selected.length?(o=n.$selected.get(0),e.scrollTo(0,o.offsetTop)):e.scrollTo(0,0),n.$doc.on("click."+n.id,{self:n},n.onDocumentClick)):(n.$doc.off("click."+n.id,n.onDocumentClick),n.$container.removeClass(n.cls.visible))},onDocumentClick:function(t){var e=t.data.self;r.contains(e.containerElement,t.target)||e.toggleDropdown(!1)},onButtonClick:function(t){t.preventDefault(),t.data.self.toggleDropdown()},onClearClick:function(t){t.preventDefault();var e=t.data.self;e.val(e.hasDefault?e.opt.default:"")},onItemClick:function(t){t.data.self.val(this.title)}}),t.fields.register("icon-picker",t.IconPicker,".foofields-type-icon-picker",{default:null},{container:"fip-container",button:"fip-button",clear:"fip-clear",icon:"fip-icon",text:"fip-text",list:"fip-list",item:"fip-item",hidden:"fip-hidden",visible:"fip-visible",selected:"fip-selected",sr:"fip-sr"},{select:"Select Icon",clear:"Clear",default:"Default"})}(FooFields.$,FooFields,FooBar,(FooFields.utils,FooFields.utils.is)),function(t){t.Numeric=t.Field.extend({setup:function(){var t=this;t.currentValue=t.val(),t.debouncedId=null,t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){clearTimeout(this.debouncedId),this.$change.off(".foofields")},onInputChange:function(t){var e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),t.fields.register("numeric",t.Numeric,".foofields-type-numeric",{},{},{})}((FooFields.$,FooFields),(FooFields.utils.is,FooFields.utils.fn,FooFields.utils.obj)),function(t,l){t.DateTime=t.Field.extend({setup:function(){var t=this;t.$date=t.$input.find('input[type="date"]'),t.$hours=t.$input.find(".foofields-time-hours").find('input[type="number"]'),t.$minutes=t.$input.find(".foofields-time-minutes").find('input[type="number"]'),t.currentValue=t.val(),t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){this.$change.off(".foofields")},val:function(t){var e=this,o=e.$date.val(),n=e.$hours.val(),i=e.$minutes.val(),s=new Date(o);s.setHours(n,i);var r=s.getTime();if(!l.number(t)||t===r)return s.getTime();var a=new Date(t);e.$date.val(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()),e.$hours.val(a.getHours()),e.$minutes.val(a.getMinutes()),e.doValueChanged()},onInputChange:function(t){var e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),t.fields.register("datetime",t.DateTime,".foofields-type-datetime",{},{},{})}((FooFields.$,FooFields),FooFields.utils.is,(FooFields.utils.fn,FooFields.utils.obj)),function(t,l){t.TimeSelector=t.Field.extend({setup:function(){var t=this;t.SECOND_IN_MS=1e3,t.MINUTE_IN_MS=60*t.SECOND_IN_MS,t.HOUR_IN_MS=60*t.MINUTE_IN_MS,t.DAY_IN_MS=24*t.HOUR_IN_MS,t.$days=t.$input.find(".foofields-time-days").find('input[type="number"]'),t.$hours=t.$input.find(".foofields-time-hours").find('input[type="number"]'),t.$minutes=t.$input.find(".foofields-time-minutes").find('input[type="number"]'),t.$seconds=t.$input.find(".foofields-time-seconds").find('input[type="number"]'),t.currentValue=t.val(),t.$change.off("change",t.onValueChanged).on("input.foofields",{self:t},t.onInputChange)},teardown:function(){this.$change.off(".foofields")},val:function(t){var e=this,o=e.$days.val(),n=e.$hours.val(),i=e.$minutes.val(),s=e.$seconds.val(),r=o*e.DAY_IN_MS+n*e.HOUR_IN_MS+i*e.MINUTE_IN_MS+s*e.SECOND_IN_MS;if(!l.number(t)||t===r)return r;var a={days:Math.floor(t/e.DAY_IN_MS),hours:Math.floor(t%e.DAY_IN_MS/e.HOUR_IN_MS),minutes:Math.floor(t%e.HOUR_IN_MS/e.MINUTE_IN_MS),seconds:Math.floor(t%e.MINUTE_IN_MS/e.SECOND_IN_MS),milliseconds:t};e.$days.val(a.days),e.$hours.val(a.hours),e.$minutes.val(a.minutes),e.$seconds.val(a.seconds),e.doValueChanged()},onInputChange:function(t){var e=t.data.self,o=e.val();o!==e.currentValue&&(e.currentValue=o,e.doValueChanged())}}),t.fields.register("time-selector",t.TimeSelector,".foofields-type-time-selector",{},{},{})}((FooFields.$,FooFields),FooFields.utils.is,(FooFields.utils.fn,FooFields.utils.obj)),function(r,t){r.Conditions=r.Field.extend({construct:function(t,e,o,n,i){var s=this;s._super(t,e,o,n,i),s.$addButton=s.$input.children(s.sel.add),s.$table=s.$input.children("table").first(),s.$tbody=s.$table.children("tbody").first(),s.$template=s.$table.children("tfoot").first().children("tr").first(),s.rows=s.$tbody.children("tr").map(function(t,e){return new r.Conditions.Row(s,e)}).get()},init:function(){var i,s=this;s._super(),s.$addButton.on("click.foofields",{self:s},s.onAddNewClick),s.rows.forEach(function(t){t.init()}),s.$tbody.sortable({cancel:":input",forcePlaceholderSize:!0,placeholder:"foofields-conditions-placeholder",items:"> tr",distance:5,start:function(t,e){i=e.item.index(),e.placeholder.height(e.item.height())},update:function(t,e){var o=e.item.index(),n=i<o?i:o;s.$tbody.children("tr").eq(n).nextAll("tr").andSelf().trigger("index-change")}}),0===s.rows.length&&s.addNewRow()},destroy:function(){this.$tbody.sortable("destroy"),this.rows.forEach(function(t){t.destroy()}),this.$addButton.off(".foofields"),this._super()},addNewRow:function(){var t=this,e=new r.Conditions.Row(t,t.$template.clone());return t.rows.push(e),t.$tbody.append(e.$el).sortable("refresh"),e.init(!0),t.$el.removeClass(t.cls.empty),t.doValueChanged(),e},remove:function(t){var e=this,o=t.$el.nextAll("tr");t.$el.remove();var n=e.rows.indexOf(t);-1!==n&&e.rows.splice(n,1),0===e.rows.length?e.opt.allowEmpty?e.$el.addClass(e.cls.empty):e.addNewRow():(e.$tbody.sortable("refresh"),o.trigger("index-change"),e.doValueChanged())},onAddNewClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()},toggle:function(t){this._super(t),this.$template.find(":input").attr("disabled","disabled")},val:function(o){if(!t.array(o))return this.rows.map(function(t){return t.val()});this.rows.forEach(function(t,e){t.val(e<o.length?o[e]:[])})}}),r.fields.register("conditions",r.Conditions,".foofields-type-conditions",{allowEmpty:!1},{add:"foofields-conditions-add",empty:"foofields-empty"},{})}((FooFields.$,FooFields),FooFields.utils.is,FooFields.utils.obj),function(r,n,t,a){n.Conditions.Row=n.Component.extend({construct:function(t,e){var o=this;o._super(t.instance,e,t.cls,t.sel),o.parent=t,o.ctnr=t.ctnr,o.$cells=o.$el.children("td,th"),o.fields=o.$cells.children(o.sel.el).map(function(t,e){return n.fields.create(o,e)}).get(),o.regex={id:/(_)-?\d+(_|-?)/i,name:/(\[)-?\d+(])/i}},init:function(t){var e=this;e._super(),e.$el.on("index-change.foofields",{self:e},e.onIndexChange),e.fields.forEach(function(t){t.on("change",e.onFieldChange,e),t.init()}),t&&e.reindex()},destroy:function(){var e=this;e.fields.forEach(function(t){t.off("change",e.onFieldChange,e),t.destroy()}),e._super()},remove:function(){this.parent.remove(this)},reindex:function(){var o=this,n=o.$el.index();o.fields.forEach(function(t){t.id=o.update(t.$el,n),t.$el.find("[id],[name]").each(function(t,e){o.update(e,n)})}),o.trigger("index-change",[n])},update:function(t,e){var o,n=(t=a.jq(t)?t:r(t)).prop("id");!a.string(n)||(o=n.replace(this.regex.id,"$1"+e+"$2"))!==n&&(t.prop("id",o),n=o);var i,s=t.prop("name");return!a.string(s)||(i=s.replace(this.regex.name,"$1"+e+"$2"))!==s&&t.prop("name",i),n},field:function(e){return t.find(this.fields,function(t){return t.id===e})},onIndexChange:function(t){t.data.self.reindex()},onFieldChange:function(){this.parent.doValueChanged()},enable:function(){this.fields.forEach(function(t){t.enable()})},val:function(o){var t=this.fields.filter(function(t){return!(t instanceof n.Conditions.RowIndex)});if(!a.array(o))return t.map(function(t){return t.val()});t.forEach(function(t,e){t.val(e<o.length?o[e]:"")})}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(t,o){t.Conditions.RowIndex=t.Field.extend({setup:function(){this.content.on("index-change",this.onIndexChange,this)},teardown:function(){this.content.off("index-change")},onIndexChange:function(t,e){this.$input.text(o.format(this.opt.format,{index:e,count:e+1}))}}),t.fields.register("conditions-index",t.Conditions.RowIndex,".foofields-type-conditions-index",{format:"{count}"},{},{})}((FooFields.$,FooFields),(FooFields.utils.is,FooFields.utils.str)),function(r,t){r.Conditions.Group=r.Field.extend({construct:function(t,e,o,n,i){var s=this;s._super(t,e,o,n,i),s.$addButton=s.$input.children(s.sel.add),s.$removeButton=s.$input.children(s.sel.remove),s.$table=s.$input.children("table").first(),s.$tbody=s.$table.children("tbody").first(),s.$template=s.$table.children("tfoot").first().children("tr").first(),s.rows=s.$tbody.children("tr").map(function(t,e){return new r.Conditions.Group.Row(s,e)}).get()},init:function(){var i,s=this;s._super(),s.$addButton.on("click.foofields",{self:s},s.onAddNewClick),s.$removeButton.on("click.foofields",{self:s},s.onRemoveClick),s.rows.forEach(function(t){t.init()}),s.$tbody.sortable({cancel:":input",forcePlaceholderSize:!0,placeholder:"foofields-conditions-group-placeholder",items:"> tr",distance:5,start:function(t,e){i=e.item.index(),e.placeholder.height(e.item.height())},update:function(t,e){var o=e.item.index(),n=i<o?i:o;s.$tbody.children("tr").eq(n).nextAll("tr").andSelf().trigger("index-change")}}),0===s.rows.length&&s.addNewRow()},destroy:function(){this.$tbody.sortable("destroy"),this.rows.forEach(function(t){t.destroy()}),this.$addButton.off(".foofields"),this._super()},addNewRow:function(t){var e=this,o=new r.Conditions.Group.Row(e,e.$template.clone());return t instanceof r.Conditions.Group.Row?(e.rows.push(o),t.$el.after(o.$el)):(e.rows.push(o),e.$tbody.append(o.$el)),e.$tbody.sortable("refresh"),o.init(!0),e.$el.removeClass(e.cls.empty),e.doValueChanged(),o},remove:function(t){var e,o,n=this;t instanceof r.Conditions.Group.Row?(e=t.$el.nextAll("tr"),t.$el.remove(),-1!==(o=n.rows.indexOf(t))&&n.rows.splice(o,1),0===n.rows.length?n.opt.allowEmpty?n.$el.addClass(n.cls.empty):n.content.remove():(n.$tbody.sortable("refresh"),e.trigger("index-change"),n.doValueChanged())):n.content.remove()},index:function(){return this.content.$el.index()},onAddNewClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()},onRemoveClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.remove()},toggle:function(t){this._super(t),this.$template.find(":input").attr("disabled","disabled")},val:function(o){if(!t.array(o))return this.rows.map(function(t){return t.val()});this.rows.forEach(function(t,e){t.val(e<o.length?o[e]:[])})}}),r.fields.register("conditions-group",r.Conditions.Group,".foofields-type-conditions-group",{allowEmpty:!1},{add:"foofields-conditions-group-empty-add",remove:"foofields-conditions-group-empty-remove",empty:"foofields-empty",types:"foofields-conditions-group-types",operators:"foofields-conditions-group-operators",values:"foofields-conditions-group-values"},{})}((FooFields.$,FooFields),FooFields.utils.is,FooFields.utils.obj),function(l,n,i,u){n.Conditions.Group.Row=n.Component.extend({construct:function(t,e){var o=this;o._super(t.instance,e,t.cls,t.sel),o.parent=t,o.ctnr=t.ctnr,o.$cells=o.$el.children("td,th"),o.fields=o.$cells.children(o.sel.el).map(function(t,e){return n.fields.create(o,e)}).get(),o.regex={id:/(_)-?\d+(_|-?)/gi,name:/(\[)-?\d+(])/gi},o.types=i.find(o.fields,function(t){return t.$el.hasClass(o.cls.types)}),o.operators=i.find(o.fields,function(t){return t.$el.hasClass(o.cls.operators)}),o.values=i.find(o.fields,function(t){return t.$el.hasClass(o.cls.values)}),o.changed=!1},init:function(t){var e=this;e._super(),e.$el.on("index-change.foofields",{self:e},e.onIndexChange),e.fields.forEach(function(t){t.on("change",e.onFieldChange,e),t.init()}),t&&e.reindex()},destroy:function(){var e=this;e.fields.forEach(function(t){t.off("change",e.onFieldChange,e),t.destroy()}),e._super()},remove:function(){this.parent.remove(this)},addNewRow:function(){this.parent.addNewRow(this)},reindex:function(){var o=this,n=o.parent.index(),i=o.$el.index();o.fields.forEach(function(t){t.id=o.update(t.$el,n,i),t.$el.find("[id],[name]").each(function(t,e){o.update(e,n,i)})}),o.trigger("index-change",[i])},update:function(t,n,i){var e,o=(t=u.jq(t)?t:l(t)).prop("id"),s=!0;u.string(o)&&(s=!0,(e=o.replace(this.regex.id,function(t,e,o){return!0===s?(s=!1,e+n+o):e+i+o}))!==o&&(t.prop("id",e),o=e));var r,a=t.prop("name");return u.string(a)&&(s=!0,(r=a.replace(this.regex.name,function(t,e,o){return!0===s?(s=!1,e+n+o):e+i+o}))!==a&&t.prop("name",r)),o},field:function(e){return i.find(this.fields,function(t){return t.id===e})},onIndexChange:function(t){t.data.self.reindex()},onFieldChange:function(){this.changed=!0,this.parent.doValueChanged()},enable:function(){this.fields.forEach(function(t){t.enable()})},val:function(o){var t=this.fields.filter(function(t){return!(t instanceof n.Conditions.Group.RowIndex||t instanceof n.Conditions.Group.DeleteButton)});if(!u.array(o))return t.map(function(t){return t.val()});t.forEach(function(t,e){t.val(e<o.length?o[e]:"")})},getType:function(){return this.types instanceof n.Field?this.types.val():null},getTypeOptions:function(){return this.types instanceof n.Field&&this.types.$el.find(":selected").data("selectize")||{}},getOperator:function(){return this.operators instanceof n.Field?this.operators.val():null},getEndpoint:function(){return this.parent instanceof n.Conditions.Group&&this.parent.content instanceof n.Conditions.Row&&this.parent.content.parent instanceof n.Conditions?window.ajaxurl+"?"+this.parent.content.parent.opt.query:""}})}(FooFields.$,FooFields,FooFields.utils,FooFields.utils.is,FooFields.utils.obj),function(t,o){t.Conditions.Group.RowIndex=t.Field.extend({setup:function(){this.content.on("index-change",this.onIndexChange,this)},teardown:function(){this.content.off("index-change")},onIndexChange:function(t,e){this.$input.text(o.format(this.opt.format,{index:e,count:e+1}))}}),t.fields.register("conditions-group-index",t.Conditions.Group.RowIndex,".foofields-type-conditions-group-index",{format:"{count}"},{},{})}((FooFields.$,FooFields),(FooFields.utils.is,FooFields.utils.str)),function(i,t,r,a){window.Selectize?(t.Conditions.Group.Selectize=t.Field.extend({setup:function(){var t=this;t.$select=t.$input.children("select").first(),a.extend(t.opt,t.$select.data()),t.$select.removeData("selectize"),t.$select.removeAttr("data-selectize"),t.setupSelectize(!0),t.content.types.on("change",t.onTypeChanged,t)},setupSelectize:function(t){var o=this,n={},e=o.content.getTypeOptions();a.extend(n,o.opt.selectize,e,{onChange:o.onSelectizeChange.bind(o)});var i,s=!1;t&&r.array(o.opt.selectize.items)&&o.opt.selectize.items.length&&(delete o.opt.selectize.items,r.array(n.items)&&0<n.items.length&&(s=!0,o.content.changed=!0)),r.array(n.options)&&0<n.options.length?s||!n.firstSelected||!r.string(n.valueField)||(i=n.options[0]).hasOwnProperty(n.valueField)&&(n.items=[i[n.valueField]]):a.extend(n,{preload:s||n.firstSelected,load:o.onSelectizeLoad.bind(o)}),1!==n.maxItems&&(n.plugins=["remove_button"]),o.api instanceof window.Selectize&&o.api.destroy(),o.api=o.$select.selectize(n).get(0).selectize,n.preload&&o.api instanceof window.Selectize&&o.api.on("load",function(t){var e;r.array(t)&&0<t.length?!s&&n.firstSelected&&r.string(n.valueField)?(e=t[0]).hasOwnProperty(n.valueField)&&o.api.setValue(e[n.valueField]):s&&o.api.setValue(n.items):console.debug(o.i18n.dataInvalid,t)})},teardown:function(){this.api instanceof Selectize&&this.api.destroy()},fetch:function(t){var e=this.content.getType(),o=this.content.getOperator(),n=this.content.getEndpoint();return i.get(n,{q:t,type:e,operator:o})},enable:function(){this.api instanceof Selectize&&this.api.enable()},disable:function(){this.api instanceof Selectize&&this.api.disable()},val:function(t){return this.api?r.undef(t)?this.api.getValue():(this.api.setValue(t),void this.doValueChanged()):""},onTypeChanged:function(){this.setupSelectize()},onSelectizeLoad:function(t,e){this.fetch(t).done(function(t){e(t.results)}).fail(function(){e()})},onSelectizeChange:function(){}}),t.fields.register("conditions-group-selectize",t.Conditions.Group.Selectize,".foofields-type-conditions-group-selectize",{selectize:{preload:!1,delimiter:", ",create:!1,valueField:"id",labelField:"text",searchField:"text",maxItems:null,firstSelected:!1,closeAfterSelect:!0}},{},{dataInvalid:"The selectize load method returned an empty or unexpected data object."})):console.log("FooFields.Conditions.Group.Selectize dependency missing.")}(FooFields.$,FooFields,FooFields.utils.is,FooFields.utils.obj),function(t,e){t.Conditions.Group.DeleteButton=t.Field.extend({setup:function(){var t=this;t.$button=t.$input.find(t.sel.button).on("click.foofields",{self:t},t.onClick),t.confirmMessage=t.$button.data("confirm")},teardown:function(){this.$button.off(".foofields")},removeRow:function(){(!1===this.content.changed||e.string(this.confirmMessage)&&confirm(this.confirmMessage))&&this.content.remove()},onClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.removeRow()}}),t.fields.register("conditions-group-delete",t.Conditions.Group.DeleteButton,".foofields-type-conditions-group-delete",{},{button:"foofields-conditions-group-delete"},{})}((FooFields.$,FooFields),FooFields.utils.is,FooFields.utils.obj),function(t){t.Conditions.Group.AddButton=t.Field.extend({setup:function(){var t=this;t.$button=t.$input.find(t.sel.button).on("click.foofields",{self:t},t.onClick)},teardown:function(){this.$button.off(".foofields")},addNewRow:function(){this.content.addNewRow()},onClick:function(t){t.preventDefault(),t.stopPropagation(),t.data.self.addNewRow()}}),t.fields.register("conditions-group-add",t.Conditions.Group.AddButton,".foofields-type-conditions-group-add",{},{button:"foofields-conditions-group-add"},{})}((FooFields.$,FooFields),(FooFields.utils.is,FooFields.utils.obj)),function(r,a,n,l,u,i){a.Live=n.Class.extend({construct:function(){var t=this;t.containerId="foobar_notification-settings-container",t.idRegex=/^foobar_notification-settings_(.*?)-field$/,t.nameRegex=/^foobar_notification-settings\[(.*?)]$/,t.nameFormat="foobar_notification-settings[{0}]",t.bar=null,t.opt=null,t.ctnr=null,t.$inputs=null,t.fields=[],t.initialized=!1},register:function(t){return t instanceof a.Live.Field&&((t.live=this).fields.push(t),!0)},init:function(){var e,t=this;t.bar=t.getBar(),t.bar instanceof a.Bar&&(t.opt=u.extend({},t.bar.opt),t.bar.$el.removeData("options").removeAttr("data-options"),t.ctnr=FooFields.container(t.containerId),t.ctnr instanceof FooFields.Container&&(t.$inputs=t.ctnr.$el.find(":input"),e=t.getData(),t.fields.forEach(function(t){t.init(e)}),r("style#"+t.bar.id+"_custom").remove(),t.initialized=!0))},getPostId:function(){var t=r("#post_ID");if(0<t.length)return t.val();throw new Error('Unable to find the "#post_ID" element.')},getBar:function(){var e=this.getPostId(),t=a.getAll();return n.find(t,function(t){return i.endsWith(t.id,e)})},getData:function(){return this.$inputs.serializeArray()},getValue:function(e,t){if(l.string(e)){this.nameRegex.test(e)||(e=i.format(this.nameFormat,e)),l.array(t)||(t=this.getData());var o=n.find(t,function(t){return t.name===e});if(l.hash(o)&&l.string(o.value))return o.value}return null},setClass:function(e,o){this.bar.disableTransitionsTemporarily(function(t){t.removeClass(l.array(o)?o.join(" "):o+"").addClass(e)})},setItemClass:function(t,e){var o=this;o.bar.item instanceof a.Item&&o.bar.disableTransitionsTemporarily(function(){o.bar.item.$el.removeClass(l.array(e)?e.join(" "):e+"").addClass(t)})},setOption:function(t,e){u.prop(this.opt,t,e)},nl2br:function(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br/>")},setMessage:function(t,e){var o,n,i,s=this;s.bar.item instanceof a.Item&&(t=u.extend({text:null,show_link:null,link_text:null,link_url:null,link_target:null},t),o=s.getValue(t.text,e),n=null,"yes"===s.getValue(t.show_link,e)&&(n={text:s.getValue(t.link_text,e),url:s.getValue(t.link_url,e),target:s.getValue(t.link_target,e)}),i=s.bar.item.$el.find(".fbr-message"),l.string(o)&&i.html(s.nl2br(o)),null!==n&&i.append(r("<a/>",{text:n.text,href:n.url,target:n.target})))},reinit:function(){var t=this,e=t.bar.$el;t.bar.destroy(),t.bar=a.plugin.createChild(e.data("options",u.extend({},t.opt))),t.bar.init()},redraw:function(){this.bar.opt=u.extend({},this.opt),a.layout(!0)}}),a.live=new a.Live}(FooBar.$,FooBar,FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str),function(o,t){o.Live.Field=t.Class.extend({construct:function(t){this.id=t,this.live=null,this.field=null,this.initial={}},hasChanged:function(t,e){var o=this.initial.hasOwnProperty(t)&&this.initial[t]===e;return this.initial[t]=e,!o},init:function(t){var e=this;e.live instanceof o.Live&&(e.field=e.live.ctnr.field(e.id),e.field instanceof FooFields.Field&&(e.setup(t),e.field.on("change",e.onChange,e)))},setup:function(){},getValue:function(t,e){return this.live.getValue(t,e)},targetItem:function(){return this.live.bar.getFirst()},applyChange:function(){},finalize:function(t,e){e?this.live.reinit():t&&this.live.redraw()},onChange:function(){var t=this,e=t.targetItem();t.live.bar.item!==e?t.live.bar.goto(e).then(function(){t.applyChange(t.live.getData())}):t.applyChange(t.live.getData())}})}((FooBar.$,FooBar),FooBar.utils,(FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t,e,n){t.Live.CustomizerField=t.Live.Field.extend({construct:function(t){this._super(t),this.style=null},hasChanges:function(t){var o=this,n=!1;return e.each(t,function(t,e){o.hasChanged(e,t)&&!n&&(n=!0)}),n},setup:function(t,e){var o=this;o.style=document.createElement("style"),o.style.appendChild(document.createTextNode("")),document.head.appendChild(o.style),n.hash(e)&&(o.initial=e),o.applyChange(t,!0)},getColor:function(t,e){var o=this.getValue(t,e);return null!==o?o:"rgba(0,0,0,0)"},applyChange:function(t,e){this.style.innerHTML=this.toCSS(this.live.bar.id,t,e)},toCSS:function(){throw new Error('A customizer group must have its "toCSS" method overridden in a sub class.')}})}((FooBar.$,FooBar),FooBar.utils,FooBar.utils.is,(FooBar.utils.obj,FooBar.utils.str)),function(o,n){o.Live.CombinedField=o.Live.Field.extend({construct:function(t){this.ids=t,this.live=null,this.fields=[],this.initial={}},init:function(t){var e=this;e.live instanceof o.Live&&n.array(e.ids)&&(e.fields=e.ids.map(function(t){return e.live.ctnr.field(t)}).filter(function(t){return t instanceof FooFields.Field}),1<e.fields.length&&(e.setup(t),e.fields.forEach(function(t){t.on("change",e.onChange,e)})))}})}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is),(FooBar.utils.obj,FooBar.utils.str)),function(t,e,n){t.Live.CombinedCustomizerField=t.Live.CombinedField.extend({construct:function(t){this._super(t),this.style=null},hasChanges:function(t){var o=this,n=!1;return e.each(t,function(t,e){o.hasChanged(e,t)&&!n&&(n=!0)}),n},setup:function(t,e){var o=this;o.style=document.createElement("style"),o.style.appendChild(document.createTextNode("")),document.head.appendChild(o.style),n.hash(e)&&(o.initial=e),o.applyChange(t,!0)},getColor:function(t,e){var o=this.getValue(t,e);return null!==o?o:"rgba(0,0,0,0)"},applyChange:function(t,e){this.style.innerHTML=this.toCSS(this.live.bar.id,t,e)},toCSS:function(){throw new Error('A customizer group must have its "toCSS" method overridden in a sub class.')}})}((FooBar.$,FooBar),FooBar.utils,FooBar.utils.is,(FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_Background=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_background_field_group-field")},setup:function(t){var e=this;e._super(t,{type:e.getValue("custom_color_background_type",t),solid:e.getColor("custom_color_background_solid",t),gradient_from:e.getColor("custom_color_background_gradient_from",t),gradient_to:e.getColor("custom_color_background_gradient_to",t),gradient_type:e.getValue("custom_color_background_gradient_type",t),gradient_angle:e.getValue("custom_color_background_gradient_angle",t)})},toCSS:function(t,e,o){var n=this,i={type:n.getValue("custom_color_background_type",e),solid:n.getColor("custom_color_background_solid",e),gradient_from:n.getColor("custom_color_background_gradient_from",e),gradient_to:n.getColor("custom_color_background_gradient_to",e),gradient_type:n.getValue("custom_color_background_gradient_type",e),gradient_angle:n.getValue("custom_color_background_gradient_angle",e)},s="";if(o||n.hasChanges(i))switch(i.type){case"solid":s+="\n#"+t+".fbr-custom-color .fbr-content {",s+="\n\tbackground-color: "+i.solid+";",s+="\n}";break;case"gradient":s+="\n#"+t+".fbr-custom-color .fbr-content {",s+="\n\tbackground: "+i.gradient_from+";",s+="\n\tbackground: "+i.gradient_type+"-gradient("+("linear"===i.gradient_type?i.gradient_angle+"deg":"circle")+", "+i.gradient_from+" 0%, "+i.gradient_to+" 100%);",s+="\n}"}return s}}),t.live.register(new t.Live.Appearance_Customizer_Background)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_Button=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_button_field_group-field")},setup:function(t){var e=this;e._super(t,{background:e.getColor("custom_color_button_background",t),text:e.getColor("custom_color_button_text",t),hover_background:e.getColor("custom_color_button_hover_background",t),hover_text:e.getColor("custom_color_button_hover_text",t)})},toCSS:function(t,e,o){var n=this,i={background:n.getColor("custom_color_button_background",e),text:n.getColor("custom_color_button_text",e),hover_background:n.getColor("custom_color_button_hover_background",e),hover_text:n.getColor("custom_color_button_hover_text",e)},s="";return(o||n.hasChanges(i))&&(s+="\n#"+t+".fbr-custom-color .fbr-button {",s+="\n\tbackground-color: "+i.background+";",s+="\n\tcolor: "+i.text+";",s+="\n}",s+="\n#"+t+".fbr-custom-color .fbr-button:hover {",s+="\n\tbackground-color: "+i.hover_background+";",s+="\n\tcolor: "+i.hover_text+";",s+="\n}"),s}}),t.live.register(new t.Live.Appearance_Customizer_Button)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_ButtonSecondary=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_button_secondary_field_group-field")},setup:function(t){var e=this;e._super(t,{background:e.getColor("custom_color_button_secondary_background",t),text:e.getColor("custom_color_button_secondary_text",t),hover_background:e.getColor("custom_color_button_secondary_hover_background",t),hover_text:e.getColor("custom_color_button_secondary_hover_text",t)})},toCSS:function(t,e,o){var n=this,i={background:n.getColor("custom_color_button_secondary_background",e),text:n.getColor("custom_color_button_secondary_text",e),hover_background:n.getColor("custom_color_button_secondary_hover_background",e),hover_text:n.getColor("custom_color_button_secondary_hover_text",e)},s="";return(o||n.hasChanges(i))&&(s+="\n#"+t+".fbr-custom-color .fbr-button.fbr-button-secondary {",s+="\n\tbackground-color: "+i.background+";",s+="\n\tcolor: "+i.text+";",s+="\n}",s+="\n#"+t+".fbr-custom-color .fbr-button.fbr-button-secondary:hover {",s+="\n\tbackground-color: "+i.hover_background+";",s+="\n\tcolor: "+i.hover_text+";",s+="\n}"),s}}),t.live.register(new t.Live.Appearance_Customizer_ButtonSecondary)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_NextButton=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_next_field_group-field")},setup:function(t){var e=this;e._super(t,{background:e.getColor("custom_color_next_background",t),icon:e.getColor("custom_color_next_icon",t),hover_background:e.getColor("custom_color_next_hover_background",t),hover_icon:e.getColor("custom_color_next_hover_icon",t)})},toCSS:function(t,e,o){var n=this,i={background:n.getColor("custom_color_next_background",e),icon:n.getColor("custom_color_next_icon",e),hover_background:n.getColor("custom_color_next_hover_background",e),hover_icon:n.getColor("custom_color_next_hover_icon",e)},s="";return(o||n.hasChanges(i))&&(s+="\n#"+t+".fbr-custom-color .fbr-next {",s+="\n\tbackground-color: "+i.background+";",s+="\n\tcolor: "+i.icon+";",s+="\n}",s+="\n#"+t+".fbr-custom-color .fbr-next:hover {",s+="\n\tbackground-color: "+i.hover_background+";",s+="\n\tcolor: "+i.hover_icon+";",s+="\n}"),s}}),t.live.register(new t.Live.Appearance_Customizer_NextButton)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_PreviousButton=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_prev_field_group-field")},setup:function(t){var e=this;e._super(t,{background:e.getColor("custom_color_prev_background",t),icon:e.getColor("custom_color_prev_icon",t),hover_background:e.getColor("custom_color_prev_hover_background",t),hover_icon:e.getColor("custom_color_prev_hover_icon",t)})},toCSS:function(t,e,o){var n=this,i={background:n.getColor("custom_color_next_background",e),icon:n.getColor("custom_color_next_icon",e),hover_background:n.getColor("custom_color_next_hover_background",e),hover_icon:n.getColor("custom_color_next_hover_icon",e)},s="";return(o||n.hasChanges(i))&&(s+="\n#"+t+".fbr-custom-color .fbr-prev {",s+="\n\tbackground-color: "+i.background+";",s+="\n\tcolor: "+i.icon+";",s+="\n}",s+="\n#"+t+".fbr-custom-color .fbr-prev:hover {",s+="\n\tbackground-color: "+i.hover_background+";",s+="\n\tcolor: "+i.hover_icon+";",s+="\n}"),s}}),t.live.register(new t.Live.Appearance_Customizer_PreviousButton)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_TextAndLinks=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_text_field_group-field")},setup:function(t){this._super(t,{text:this.getColor("custom_color_text",t),link:this.getColor("custom_color_link",t),link_hover:this.getColor("custom_color_link_hover",t)})},toCSS:function(t,e,o){var n={text:this.getColor("custom_color_text",e),link:this.getColor("custom_color_link",e),link_hover:this.getColor("custom_color_link_hover",e)},i="";return(o||this.hasChanges(n))&&(i+="\n#"+t+".fbr-custom-color .fbr-content {",i+="\n\tcolor: "+n.text+";",i+="\n}",i+="\n#"+t+".fbr-custom-color .fbr-message a {",i+="\n\tcolor: "+n.link+";",i+="\n}",i+="\n#"+t+".fbr-custom-color .fbr-message a:hover {",i+="\n\tcolor: "+n.link_hover+";",i+="\n}"),i}}),t.live.register(new t.Live.Appearance_Customizer_TextAndLinks)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_TextInput=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_text_input_field_group-field")},setup:function(t){this._super(t,{background:this.getColor("custom_color_text_input_background",t),text:this.getColor("custom_color_text_input_text",t),placeholder:this.getColor("custom_color_text_input_placeholder",t)})},toCSS:function(t,e,o){var n={background:this.getColor("custom_color_text_input_background",e),text:this.getColor("custom_color_text_input_text",e),placeholder:this.getColor("custom_color_text_input_placeholder",e)},i="";return(o||this.hasChanges(n))&&(i+="\n#"+t+".fbr-custom-color .fbr-item .fbr-input {",i+="\n\tbackground-color: "+n.background+";",i+="\n\tcolor: "+n.text+";",i+="\n}",i+="\n#"+t+".fbr-custom-color .fbr-item .fbr-input::placeholder {",i+="\n\tcolor: "+n.placeholder+";",i+="\n}"),i}}),t.live.register(new t.Live.Appearance_Customizer_TextInput)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_TextInputWithButton=t.Live.CombinedCustomizerField.extend({construct:function(){this._super(["foobar_notification-settings_custom_color_text_input_background-field","foobar_notification-settings_custom_color_button_background-field"])},setup:function(t){this._super(t,{text:this.getColor("custom_color_text_input_background",t),button:this.getColor("custom_color_button_background",t)})},toCSS:function(t,e,o){var n={text:this.getColor("custom_color_text_input_background",e),button:this.getColor("custom_color_button_background",e)},i="";return(o||this.hasChanges(n))&&(i+="\n#"+t+".fbr-custom-color .fbr-item .fbr-input-with-button:before,",i+="\n#"+t+".fbr-custom-color .fbr-item .fbr-input-with-button:after {",i+="\n\tbackground: -webkit-gradient(linear, left top, right top, from("+n.text+"), color-stop(12em, "+n.text+"), color-stop(12em, "+n.button+"), to("+n.button+"));",i+="\n\tbackground: linear-gradient(to right, "+n.text+", "+n.text+" 12em, "+n.button+" 12em, "+n.button+");",i+="\n}"),i}}),t.live.register(new t.Live.Appearance_Customizer_TextInputWithButton)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_Customizer_ToggleButton=t.Live.CustomizerField.extend({construct:function(){this._super("foobar_notification-settings_custom_color_toggle_field_group-field")},setup:function(t){var e=this;e._super(t,{background:e.getColor("custom_color_toggle_background",t),icon:e.getColor("custom_color_toggle_icon",t),hover_background:e.getColor("custom_color_toggle_hover_background",t),hover_icon:e.getColor("custom_color_toggle_hover_icon",t)})},toCSS:function(t,e,o){var n=this,i={background:n.getColor("custom_color_toggle_background",e),icon:n.getColor("custom_color_toggle_icon",e),hover_background:n.getColor("custom_color_toggle_hover_background",e),hover_icon:n.getColor("custom_color_toggle_hover_icon",e)},s="";return(o||n.hasChanges(i))&&(s+="\n#"+t+".fbr-custom-color .fbr-toggle {",s+="\n\tbackground-color: "+i.background+";",s+="\n\tcolor: "+i.icon+";",s+="\n}",s+="\n#"+t+".fbr-custom-color .fbr-toggle:hover {",s+="\n\tbackground-color: "+i.hover_background+";",s+="\n\tcolor: "+i.hover_icon+";",s+="\n}"),s}}),t.live.register(new t.Live.Appearance_Customizer_ToggleButton)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(o,s){o.Live.Appearance_Effects=o.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_effects_field_group-field"),this.effects=["fbr-att-bounce","fbr-att-heartbeat","fbr-att-pulse","fbr-att-ripple","fbr-att-wiggle"]},setup:function(t){this.initial={toggle:this.getValue("effect_toggle",t),button:this.getValue("effect_button",t),enabled:this.getValue("effect_enabled")}},applyChange:function(t){var e=this,o=e.getValue("effect_toggle",t),n=e.getValue("effect_button",t),i=e.getValue("effect_enabled",t),s=!1,r=!1;e.hasChanged("toggle",o)&&(e.setEffectClass("toggle",o,e.effects),s=!0),e.hasChanged("button",n)&&("sign-up"===e.live.bar.name?e.setEffectClass("input-with-button",n,e.effects):e.setEffectClass("button",n,e.effects),s=!0),e.hasChanged("enabled",i)&&(e.live.setOption("disableEffects","interaction"===i),r=!0),e.finalize(s,r)},getItemElement:function(t){if(this.live.bar.item instanceof o.Item){var e=this.live.bar.item.$el.find(t).first();if(0<e.length)return e}return null},setEffectClass:function(t,e,o){var n=this,i=null;switch(t){case"toggle":i=n.live.bar.$toggle;break;case"button":i=n.getItemElement(".fbr-button");break;case"button-secondary":i=n.getItemElement(".fbr-button-secondary");break;case"input":i=n.getItemElement(".fbr-input");break;case"input-with-button":i=n.getItemElement(".fbr-input-with-button")}s.jq(i)&&n.live.bar.disableTransitionsTemporarily(function(){i.removeClass(s.array(o)?o.join(" "):o+"").addClass(e)})}}),o.live.register(new o.Live.Appearance_Effects)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is),(FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Appearance_General=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_appearance_group-field"),this.colors=["fbr-blue","fbr-green","fbr-purple","fbr-red","fbr-orange","fbr-yellow","fbr-dark","fbr-light","fbr-custom-color"],this.font_sizes=["fbr-font-14px","fbr-font-16px","fbr-font-18px","fbr-font-20px","fbr-font-22px","fbr-font-24px"],this.transitions=["fbr-transition-slide","fbr-transition-fade","fbr-transition-slide-fade"]},setup:function(t){this.initial={color:this.getValue("color",t),font_size:this.getValue("font_size",t),transition:this.getValue("transition",t)}},applyChange:function(t){var e=this,o=e.getValue("color",t),n=e.getValue("font_size",t),i=e.getValue("transition",t),s=!1;e.hasChanged("color",o)&&(e.live.setClass(o,e.colors),s=!0),e.hasChanged("font_size",n)&&(e.live.setClass(n,e.font_sizes),s=!0),e.hasChanged("transition",i)&&(e.live.setClass(i,e.transitions),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Appearance_General)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t,u){t.Live.Appearance_Icons=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_icons_field_group-field")},setup:function(t){var e=this;e.initial={toggle_icon_expand:e.getValue("toggle_icon_expand",t),toggle_icon_collapse:e.getValue("toggle_icon_collapse",t),toggle_icon_dismiss:e.getValue("toggle_icon_dismiss",t),toggle_icon_prev:e.getValue("toggle_icon_prev",t),toggle_icon_next:e.getValue("toggle_icon_next",t),toggle_icon_loading:e.getValue("toggle_icon_loading",t)}},applyChange:function(t){var e=this,o=e.getValue("toggle_icon_expand",t),n=e.getValue("toggle_icon_collapse",t),i=e.getValue("toggle_icon_dismiss",t),s=e.getValue("toggle_icon_prev",t),r=e.getValue("toggle_icon_next",t),a=e.getValue("toggle_icon_loading",t),l={};e.hasChanged("toggle_icon_expand",o)&&(l.expand=o),e.hasChanged("toggle_icon_collapse",n)&&(l.collapse=n),e.hasChanged("toggle_icon_dismiss",i)&&(l.dismiss=i),e.hasChanged("toggle_icon_prev",s)&&(l.prev=s),e.hasChanged("toggle_icon_next",r)&&(l.next=r),e.hasChanged("toggle_icon_loading",a)&&(l.loading=a),u.empty(l)||e.live.bar.icons(l),e.finalize(!1,!1)}}),t.live.register(new t.Live.Appearance_Icons)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is),(FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Announcement_Link=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_announcement_link_group-field")},setup:function(t){this.initial={text:this.getValue("message_link_text",t),url:this.getValue("message_link_url",t),target:this.getValue("message_link_target",t)}},applyChange:function(t){var e=this,o=e.getValue("message_link_text",t),n=e.getValue("message_link_url",t),i=e.getValue("message_link_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"message_text",show_link:"message_show_link",link_text:"message_link_text",link_url:"message_link_url",link_target:"message_link_target"},t),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_Announcement_Link)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Announcement_Message=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_announcement_group-field")},setup:function(t){this.initial={text:this.getValue("message_text",t),show_link:this.getValue("message_show_link",t)}},applyChange:function(t){var e=this,o=e.getValue("message_text",t),n=e.getValue("message_show_link",t),i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"message_text",show_link:"message_show_link",link_text:"message_link_text",link_url:"message_link_url",link_target:"message_link_target"},t),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.Content_Announcement_Message)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(l,t){t.Live.Content_Cookie_Button=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_button_group-field"),this.positions=["fbr-buttons-left","fbr-buttons-right"]},setup:function(t){this.initial={text:this.getValue("cookie_button_text",t),position:this.getValue("cookie_button_position",t),show_decline:this.getValue("cookie_show_decline_button",t)}},applyChange:function(t){var e,o,n=this,i=n.getValue("cookie_button_text",t),s=n.getValue("cookie_button_position",t),r=n.getValue("cookie_show_decline_button",t),a=!1;n.hasChanged("text",i)&&(n.live.bar.item.$el.find(".fbr-button:first").text(i),a=!0),n.hasChanged("position",s)&&(n.live.setItemClass(s,n.positions),a=!0),n.hasChanged("show_decline",r)&&(e=n.live.bar.item.$el.find(".fbr-button-secondary:first"),"yes"===r?(o={text:n.getValue("cookie_decline_button_text"),href:n.getValue("cookie_decline_button_url"),target:n.getValue("cookie_decline_button_target")},0===e.length?(e=l("<a/>",{class:"fbr-button fbr-mobile-100 fbr-button-secondary",text:o.text,href:o.href,target:o.target}),n.live.bar.item.$el.find(".fbr-button:first").after(e)):e.text(o.text).attr({href:o.url,target:o.target})):e.remove(),a=!0),n.finalize(a,!1)}}),t.live.register(new t.Live.Content_Cookie_Button)}(FooBar.$,FooBar,(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Cookie_ButtonSecondary=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_decline_button_group-field")},setup:function(t){this.initial={text:this.getValue("cookie_decline_button_text",t),url:this.getValue("cookie_decline_button_url",t),target:this.getValue("cookie_decline_button_target",t)}},applyChange:function(t){var e=this,o=e.getValue("cookie_decline_button_text",t),n=e.getValue("cookie_decline_button_url",t),i=e.getValue("cookie_decline_button_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button-secondary:first").attr({href:n,target:i}).text(o),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_Cookie_ButtonSecondary)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Cookie_PolicyLink=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_policy_link_group-field")},setup:function(t){this.initial={text:this.getValue("cookie_policy_link_text",t),url:this.getValue("cookie_policy_link_url",t),target:this.getValue("cookie_policy_link_target",t)}},applyChange:function(t){var e=this,o=e.getValue("cookie_policy_link_text",t),n=e.getValue("cookie_policy_link_url",t),i=e.getValue("cookie_policy_link_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"cookie_notice",show_link:"cookie_show_policy_link",link_text:"cookie_policy_link_text",link_url:"cookie_policy_link_url",link_target:"cookie_policy_link_target"},t),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_Cookie_PolicyLink)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Cookie_Message=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cookie_group-field")},setup:function(t){this.initial={text:this.getValue("cookie_notice",t),show_link:this.getValue("cookie_show_policy_link",t)}},applyChange:function(t){var e=this,o=e.getValue("cookie_notice",t),n=e.getValue("cookie_show_policy_link",t),i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"cookie_notice",show_link:"cookie_show_policy_link",link_text:"cookie_policy_link_text",link_url:"cookie_policy_link_url",link_target:"cookie_policy_link_target"},t),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.Content_Cookie_Message)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Countdown_Button=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_button_field_group-field"),this.positions=["fbr-button-before-message","fbr-button-after-message"]},setup:function(t){var e=this;e.initial={text:e.getValue("countdown_button_text",t),url:e.getValue("countdown_button_url",t),target:e.getValue("countdown_button_target",t),position:e.getValue("countdown_button_position",t)}},applyChange:function(t){var e=this,o=e.getValue("countdown_button_text",t),n=e.getValue("countdown_button_url",t),i=e.getValue("countdown_button_target",t),s=e.getValue("countdown_button_position",t),r=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button:first").attr({href:n,target:i}).text(o),r=!0),e.hasChanged("position",s)&&(e.live.setItemClass(s,e.positions),r=!0),e.finalize(r,!1)}}),t.live.register(new t.Live.Content_Countdown_Button)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(o,t){t.Live.Content_Countdown_Countdown=t.Live.Field.extend({construct:function(){var t=this;t._super("foobar_notification-settings_countdown_countdown_field_group-field"),t.styles=["fbr-countdown-boxed","fbr-countdown-digital"],t.SECOND_IN_MS=1e3,t.MINUTE_IN_MS=60*t.SECOND_IN_MS,t.HOUR_IN_MS=60*t.MINUTE_IN_MS,t.DAY_IN_MS=24*t.HOUR_IN_MS,t.$fixed=null},setup:function(t){var e=this;e.initial={mode:e.getValue("countdown_countdown_type",t),fixed:e.getTimestamp(t),relative:e.getTime(t),style:e.getValue("countdown_countdown_style",t)},e.$fixed=o("#foobar_notification-settings_countdown_countdown_timestamp-field")},applyChange:function(t){var e,o=this,n=o.getValue("countdown_countdown_type",t),i=o.getTimestamp(t),s=o.getTime(t),r=o.getValue("countdown_countdown_style",t),a=!1;"timestamp"===n&&(o.hasChanged("mode",n)||o.hasChanged("fixed",i))&&((e=i<Date.now())||(o.live.bar.item.target=i,o.live.bar.item.isRunning||o.live.bar.item.start(),a=!0),o.$fixed.toggleClass("foofields-error",e)),"time"===n&&(o.hasChanged("mode",n)||o.hasChanged("relative",s))&&(o.live.bar.item.target=Date.now()+s,o.live.bar.item.isRunning||o.live.bar.item.start(),a=!0),o.hasChanged("style",r)&&(o.live.setItemClass(r,o.styles),a=!0),o.finalize(a,!1)},getTimestamp:function(t){var e=this.getValue("foobar_notification-settings[countdown_countdown_timestamp][date]",t),o=this.getValue("foobar_notification-settings[countdown_countdown_timestamp][hours]",t),n=this.getValue("foobar_notification-settings[countdown_countdown_timestamp][minutes]",t),i=new Date(e);return i.setHours(o,n),i.getTime()},getTime:function(t){var e=this,o=e.getValue("foobar_notification-settings[countdown_countdown_time][days]",t),n=e.getValue("foobar_notification-settings[countdown_countdown_time][hours]",t),i=e.getValue("foobar_notification-settings[countdown_countdown_time][minutes]",t),s=e.getValue("foobar_notification-settings[countdown_countdown_time][seconds]",t);return o*e.DAY_IN_MS+n*e.HOUR_IN_MS+i*e.MINUTE_IN_MS+s*e.SECOND_IN_MS}}),t.live.register(new t.Live.Content_Countdown_Countdown)}(FooBar.$,FooBar,(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(o){o.Live.Content_Countdown_ExpiredMessage=o.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_expired_field_group-field"),this.target=null},setup:function(t){var e=this;e.initial={text:e.getValue("countdown_expired_text",t),duration:e.getValue("countdown_expired_duration",t)},e.target=e.live.bar.getByType(o.Item.CountdownExpired),e.target instanceof o.Item.CountdownExpired&&(e.target.opt.timeoutAction="resetTimeout")},targetItem:function(){return this.target},applyChange:function(t){var e,o=this,n=o.getValue("countdown_expired_text",t),i=o.getValue("countdown_expired_duration",t),s=!1;o.hasChanged("text",n)&&(o.live.setMessage({text:"countdown_expired_text"},t),s=!0),o.hasChanged("duration",i)&&(e=parseInt(i),isNaN(e)&&(e=0),e*=1e3,o.live.bar.item.setTimeout(e),s=!0),o.finalize(s,!1)}}),o.live.register(new o.Live.Content_Countdown_ExpiredMessage)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Countdown_Link=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_link_field_group-field")},setup:function(t){this.initial={text:this.getValue("countdown_link_text",t),url:this.getValue("countdown_link_url",t),target:this.getValue("countdown_link_target",t)}},applyChange:function(t){var e=this,o=e.getValue("countdown_link_text",t),n=e.getValue("countdown_link_url",t),i=e.getValue("countdown_link_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"countdown_text",show_link:"countdown_show_link",link_text:"countdown_link_text",link_url:"countdown_link_url",link_target:"countdown_link_target"},t),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_Countdown_Link)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_Countdown_Message=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_countdown_message_field_group-field"),this.positions=["fbr-message-before-countdown","fbr-message-after-countdown"]},setup:function(t){this.initial={text:this.getValue("countdown_text",t),position:this.getValue("countdown_message_position",t),show_link:this.getValue("countdown_show_link",t)}},applyChange:function(t){var e=this,o=e.getValue("countdown_text",t),n=e.getValue("countdown_message_position",t),i=e.getValue("countdown_show_link",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",i))&&(e.live.setMessage({text:"countdown_text",show_link:"countdown_show_link",link_text:"countdown_link_text",link_url:"countdown_link_url",link_target:"countdown_link_target"},t),s=!0),e.hasChanged("position",n)&&(e.live.setItemClass(n,e.positions),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_Countdown_Message)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_CTA_Button=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_button_group-field"),this.positions=["fbr-buttons-left","fbr-buttons-right"]},setup:function(t){var e=this;e.initial={text:e.getValue("cta_button_text",t),url:e.getValue("cta_button_url",t),target:e.getValue("cta_button_target",t),position:e.getValue("cta_button_position",t)}},applyChange:function(t){var e=this,o=e.getValue("cta_button_text",t),n=e.getValue("cta_button_url",t),i=e.getValue("cta_button_target",t),s=e.getValue("cta_button_position",t),r=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.bar.item.$el.find(".fbr-button:first").attr({href:n,target:i}).text(o),r=!0),e.hasChanged("position",s)&&(e.live.setItemClass(s,e.positions),r=!0),e.finalize(r,!1)}}),t.live.register(new t.Live.Content_CTA_Button)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_CTA_Link=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_link_group-field")},setup:function(t){this.initial={text:this.getValue("cta_link_text",t),url:this.getValue("cta_link_url",t),target:this.getValue("cta_link_target",t)}},applyChange:function(t){var e=this,o=e.getValue("cta_link_text",t),n=e.getValue("cta_link_url",t),i=e.getValue("cta_link_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"cta_text",show_link:"cta_show_link",link_text:"cta_link_text",link_url:"cta_link_url",link_target:"cta_link_target"},t),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_CTA_Link)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_CTA_Message=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_cta_group-field")},setup:function(t){this.initial={text:this.getValue("cta_text",t),show_link:this.getValue("cta_show_link",t)}},applyChange:function(t){var e=this,o=e.getValue("cta_text",t),n=e.getValue("cta_show_link",t),i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"cta_text",show_link:"cta_show_link",link_text:"cta_link_text",link_url:"cta_link_url",link_target:"cta_link_target"},t),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.Content_CTA_Message)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(e){e.Live.Content_SignUp_ErrorMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_error_field_group-field")},setup:function(t){this.initial={text:this.getValue("sign_up_error_text",t),button_text:this.getValue("sign_up_error_button_text",t),duration:this.getValue("sign_up_error_duration",t)}},targetItem:function(){var t=this.live.bar.getByType(e.Item.SignUpError);return t instanceof e.Item.SignUpError?(t.opt.timeoutAction="resetTimeout",t):null},applyChange:function(t){var e,o=this,n=o.getValue("sign_up_error_text",t),i=o.getValue("sign_up_error_button_text",t),s=o.getValue("sign_up_error_duration",t),r=!1;o.hasChanged("text",n)&&(o.live.setMessage({text:"sign_up_error_text"},t),r=!0),o.hasChanged("button_text",i)&&(o.live.bar.item.$el.find(".fbr-button:first").text(i),r=!0),o.hasChanged("duration",s)&&(e=parseInt(s),isNaN(e)&&(e=0),e*=1e3,o.live.bar.item.setTimeout(e),r=!0),o.finalize(r,!1)}}),e.live.register(new e.Live.Content_SignUp_ErrorMessage)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_SignUp_Form=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_form_field_group-field")},setup:function(t){this.initial={placeholder:this.getValue("sign_up_placeholder",t),button_text:this.getValue("sign_up_button_text",t)}},applyChange:function(t){var e=this,o=e.getValue("sign_up_placeholder",t),n=e.getValue("sign_up_button_text",t),i=!1;e.hasChanged("placeholder",o)&&(e.live.bar.item.$el.find(".fbr-email").attr("placeholder",o),i=!0),e.hasChanged("button_text",n)&&(e.live.bar.item.$el.find(".fbr-submit").text(n),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.Content_SignUp_Form)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_SignUp_Link=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_link_field_group-field")},setup:function(t){this.initial={text:this.getValue("sign_up_link_text",t),url:this.getValue("sign_up_link_url",t),target:this.getValue("sign_up_link_target",t)}},applyChange:function(t){var e=this,o=e.getValue("sign_up_link_text",t),n=e.getValue("sign_up_link_url",t),i=e.getValue("sign_up_link_target",t),s=!1;(e.hasChanged("text",o)||e.hasChanged("url",n)||e.hasChanged("target",i))&&(e.live.setMessage({text:"sign_up_text",show_link:"sign_up_show_link",link_text:"sign_up_link_text",link_url:"sign_up_link_url",link_target:"sign_up_link_target"},t),s=!0),e.finalize(s,!1)}}),t.live.register(new t.Live.Content_SignUp_Link)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.Content_SignUp_Message=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_message_field_group-field")},setup:function(t){this.initial={text:this.getValue("sign_up_text",t),show_link:this.getValue("sign_up_show_link",t)}},applyChange:function(t){var e=this,o=e.getValue("sign_up_text",t),n=e.getValue("sign_up_show_link",t),i=!1;(e.hasChanged("text",o)||e.hasChanged("show_link",n))&&(e.live.setMessage({text:"sign_up_text",show_link:"sign_up_show_link",link_text:"sign_up_link_text",link_url:"sign_up_link_url",link_target:"sign_up_link_target"},t),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.Content_SignUp_Message)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(e){e.Live.Content_SignUp_SuccessMessage=e.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_sign_up_success_field_group-field")},setup:function(t){this.initial={text:this.getValue("sign_up_success_text",t),duration:this.getValue("sign_up_success_duration",t)}},targetItem:function(){var t=this.live.bar.getByType(e.Item.SignUpSuccess);return t instanceof e.Item.SignUpSuccess?(t.opt.timeoutAction="resetTimeout",t):null},applyChange:function(t){var e,o=this,n=o.getValue("sign_up_success_text",t),i=o.getValue("sign_up_success_duration",t),s=!1;o.hasChanged("text",n)&&(o.live.setMessage({text:"sign_up_success_text"},t),s=!0),o.hasChanged("duration",i)&&(e=parseInt(i),isNaN(e)&&(e=0),e*=1e3,o.live.bar.item.setTimeout(e),s=!0),o.finalize(s,!1)}}),e.live.register(new e.Live.Content_SignUp_SuccessMessage)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(o,t){t.Live.General_Layout=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_layout_group-field"),this.layouts=["fbr-layout-inline","fbr-layout-top-inline","fbr-layout-top","fbr-layout-bottom","fbr-layout-left","fbr-layout-left-top","fbr-layout-left-center","fbr-layout-left-bottom","fbr-layout-right","fbr-layout-right-top","fbr-layout-right-center","fbr-layout-right-bottom"]},setup:function(t){var e=this;e.$inlineMetabox=o("#foobar_notification-inline_preview"),e.$inlineContainer=o(".foobar_metabox_inline_preview_container"),e.$inlineContainer.find(".foobar_metabox_inline_preview_content").hide(),e.$body=o("body"),e.initial={layout:e.getLayout(t),layout_push:e.getValue("layout_push",t),open:e.getValue("open",t)}},applyChange:function(t){var e,o,n=this,i=n.getLayout(t),s=n.getValue("layout_push",t),r=n.getValue("open",t),a=!1,l=!1;n.hasChanged("layout",i)&&(n.live.setClass(i,n.layouts),a=!0,"fbr-layout-inline"===i?(n.$inlineContainer.append(n.live.bar.$el),n.$inlineMetabox.show()):(n.$body.append(n.live.bar.$el),n.$inlineMetabox.hide())),n.hasChanged("layout_push",s)&&(n.live.setOption("push","yes"===s),a=!0),n.hasChanged("open",r)&&(e={},"open"===r&&(o=n.getValue("transition",t),e.name=""!==o?"transition":"immediate"),n.live.setOption("open",e),l=!0),n.finalize(a,l)},getLayout:function(t){var e=this.getValue("layout",t),o=this.getValue("layout_left",t),n=this.getValue("layout_right",t);return null!==o?o:null!==n?n:e}}),t.live.register(new t.Live.General_Layout)}(FooBar.$,FooBar,(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t){t.Live.General_ToggleButton=t.Live.Field.extend({construct:function(){this._super("foobar_notification-settings_toggle_group-field"),this.toggles=["fbr-toggle-default","fbr-toggle-circle","fbr-toggle-overlap","fbr-toggle-none"],this.toggle_positions=["fbr-toggle-left","fbr-toggle-right"]},setup:function(t){this.initial={toggle:this.getValue("toggle",t),toggle_position:this.getValue("toggle_position",t)}},applyChange:function(t){var e=this,o=e.getValue("toggle",t),n=e.getValue("toggle_position",t),i=!1;e.hasChanged("toggle",o)&&(e.live.setClass(o,e.toggles),i=!0),e.hasChanged("toggle_position",n)&&(e.live.setClass(n,e.toggle_positions),i=!0),e.finalize(i,!1)}}),t.live.register(new t.Live.General_ToggleButton)}((FooBar.$,FooBar),(FooBar.utils,FooBar.utils.is,FooBar.utils.obj,FooBar.utils.str)),function(t,e){var o=!1;function n(){o||e.live.init(),o=!0}var i=!1,s=!1;e.on("ready",function(){(i=!0)===s&&n()}),t.on("ready",function(){(s=!0)===i&&n()})}(FooFields,FooBar);